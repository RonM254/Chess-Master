<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chess Mastery Hub - Python Learning Platform</title>
    <style>
        :root {
            --color-primary: #2c8c6e;
            --color-primary-dark: #1a5a46;
            --color-accent: #f39c12;
            --color-danger: #e74c3c;
            --color-success: #27ae60;
            --color-bg: #ecf0f1;
            --color-surface: #ffffff;
            --color-text: #2c3e50;
            --color-text-light: #7f8c8d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--color-bg);
            color: var(--color-text);
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);
            color: white;
            padding: 40px 20px;
            margin-bottom: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.1em;
            opacity: 0.95;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid #ddd;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 12px 24px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1em;
            font-weight: 500;
            color: var(--color-text-light);
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            margin-bottom: -2px;
        }

        .tab-btn:hover {
            color: var(--color-primary);
        }

        .tab-btn.active {
            color: var(--color-primary);
            border-bottom-color: var(--color-primary);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: var(--color-surface);
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.15);
        }

        .card h3 {
            color: var(--color-primary);
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .card p {
            color: var(--color-text-light);
            margin-bottom: 15px;
            line-height: 1.8;
        }

        .btn {
            display: inline-block;
            padding: 10px 20px;
            background: var(--color-primary);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background 0.3s ease;
            text-decoration: none;
        }

        .btn:hover {
            background: var(--color-primary-dark);
        }

        .btn-secondary {
            background: var(--color-accent);
        }

        .btn-secondary:hover {
            background: #d68910;
        }

        .btn-danger {
            background: var(--color-danger);
        }

        .btn-danger:hover {
            background: #c0392b;
        }

        .code-block {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            line-height: 1.5;
        }

        .chess-board {
            width: 400px;
            height: 400px;
            background: #d3d3d3;
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 0;
            margin: 20px auto;
            border: 3px solid #333;
        }

        .square {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            cursor: pointer;
            user-select: none;
            font-weight: bold;
        }

        .square.light {
            background: #f0d9b5;
        }

        .square.dark {
            background: #baca44;
        }

        .square.selected {
            background: #baca44 !important;
            box-shadow: inset 0 0 10px rgba(255,255,0,0.5);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--color-success), var(--color-primary));
            transition: width 0.3s ease;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat {
            background: var(--color-surface);
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            border-left: 4px solid var(--color-primary);
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: var(--color-primary);
            margin: 10px 0;
        }

        .stat-label {
            color: var(--color-text-light);
            font-size: 0.9em;
        }

        .phase-badge {
            display: inline-block;
            background: var(--color-primary);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 500;
            margin: 5px 0;
        }

        .lesson-item {
            background: var(--color-surface);
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid var(--color-accent);
            border-radius: 5px;
        }

        .lesson-item h4 {
            color: var(--color-primary);
            margin-bottom: 10px;
        }

        textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            margin: 10px 0;
        }

        .output {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            max-height: 300px;
            overflow-y: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .input-group {
            margin: 20px 0;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--color-text);
        }

        .input-group input,
        .input-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1em;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .milestone {
            background: linear-gradient(135deg, rgba(44,140,110,0.1) 0%, rgba(243,156,18,0.05) 100%);
            border: 2px solid var(--color-primary);
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }

        .milestone h4 {
            color: var(--color-primary);
            margin-bottom: 10px;
        }

        .milestone-completed {
            border-color: var(--color-success);
        }

        .milestone-completed h4 {
            color: var(--color-success);
        }

        .checklist {
            list-style: none;
            margin: 15px 0;
        }

        .checklist li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
        }

        .checklist li:before {
            content: "‚òê";
            position: absolute;
            left: 0;
            color: var(--color-text-light);
        }

        .checklist li.completed:before {
            content: "‚úì";
            color: var(--color-success);
            font-weight: bold;
        }

        .notation {
            background: #f8f9fa;
            border-left: 4px solid var(--color-accent);
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .tabs {
                flex-direction: column;
            }

            .tab-btn {
                border-bottom: none;
                border-left: 3px solid transparent;
                margin-left: 0;
                margin-bottom: 0;
            }

            .tab-btn.active {
                border-left-color: var(--color-primary);
                border-bottom: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>‚ôüÔ∏è Chess Mastery Hub</h1>
            <p>Learn Chess &amp; Python Programming in One Project | Phase 1: Fundamentals &amp; Openings</p>
        </header>

        <div class="stats">
            <div class="stat">
                <div class="stat-label">Current Phase</div>
                <div class="stat-value">1</div>
                <div class="stat-label">Fundamentals</div>
            </div>
            <div class="stat">
                <div class="stat-label">Your Elo</div>
                <div class="stat-value">1200</div>
                <div class="stat-label">Lichess Rating</div>
            </div>
            <div class="stat">
                <div class="stat-label">Learning Time</div>
                <div class="stat-value">Minutes</div>
                <input type="number" id="learningTime" value="30" max="180" style="width: 100%; margin-top: 5px;">
            </div>
            <div class="stat">
                <div class="stat-label">Projected Elo</div>
                <div class="stat-value" id="projectedElo">1300</div>
                <div class="stat-label">After Phase 1</div>
            </div>
        </div>

        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('overview')">üìö Overview</button>
            <button class="tab-btn" onclick="switchTab('lessons')">üéì Lessons</button>
            <button class="tab-btn" onclick="switchTab('practice')">üéÆ Practice</button>
            <button class="tab-btn" onclick="switchTab('code')">üíª Code Projects</button>
            <button class="tab-btn" onclick="switchTab('analysis')">üìä Analysis</button>
            <button class="tab-btn" onclick="switchTab('github')">üöÄ GitHub Setup</button>
        </div>

        <!-- OVERVIEW TAB -->
        <div id="overview" class="tab-content active">
            <h2>Phase 1: Fundamentals &amp; Opening Principles</h2>
            <p style="font-size: 1.1em; color: var(--color-text-light); margin: 20px 0;">
                Master the foundations of chess while learning Python object-oriented programming. Build a complete opening library system with code you'll be proud to show.
            </p>

            <h3 style="margin-top: 30px; color: var(--color-primary);">üìã Learning Path</h3>
            
            <div class="milestone">
                <h4>Week 1.1: Piece Movement &amp; Board Representation</h4>
                <p><strong>Chess Concept:</strong> Understanding how each piece moves and fundamental board notation</p>
                <p><strong>Python Skill:</strong> Classes, inheritance, data structures</p>
                <ul class="checklist">
                    <li>Learn algebraic notation (a1-h8 system)</li>
                    <li>Understand piece movement rules</li>
                    <li>Create Board class in Python</li>
                    <li>Implement Piece hierarchy</li>
                </ul>
                <div class="progress-bar"><div class="progress-fill" style="width: 0%"></div></div>
            </div>

            <div class="milestone">
                <h4>Week 1.2: Opening Principles &amp; Common Openings</h4>
                <p><strong>Chess Concept:</strong> Why openings matter and how 1200-rated players should think</p>
                <p><strong>Python Skill:</strong> Dictionaries, JSON file handling, design patterns</p>
                <ul class="checklist">
                    <li>Control the center (e4, d4, e5, d5)</li>
                    <li>Develop pieces quickly</li>
                    <li>Castle early for safety</li>
                    <li>Build opening database in JSON</li>
                </ul>
                <div class="progress-bar"><div class="progress-fill" style="width: 0%"></div></div>
            </div>

            <div class="milestone">
                <h4>Week 1.3: Basic Tactics &amp; Piece Coordination</h4>
                <p><strong>Chess Concept:</strong> Forks, pins, skewers - patterns that win material</p>
                <p><strong>Python Skill:</strong> Pattern recognition, algorithms</p>
                <ul class="checklist">
                    <li>Identify fork patterns</li>
                    <li>Recognize pin threats</li>
                    <li>Understand discovered attacks</li>
                    <li>Code position evaluator</li>
                </ul>
                <div class="progress-bar"><div class="progress-fill" style="width: 0%"></div></div>
            </div>

            <div class="milestone">
                <h4>Week 1.4: Position Evaluation &amp; Material Count</h4>
                <p><strong>Chess Concept:</strong> Scoring positions to find best moves</p>
                <p><strong>Python Skill:</strong> Algorithms, heuristics</p>
                <ul class="checklist">
                    <li>Standard piece values (Pawn=1, Knight=3, Bishop=3, Rook=5, Queen=9)</li>
                    <li>Position evaluation beyond material</li>
                    <li>Calculate advantage in centipawns</li>
                    <li>Build evaluation engine</li>
                </ul>
                <div class="progress-bar"><div class="progress-fill" style="width: 0%"></div></div>
            </div>

            <h3 style="margin-top: 40px; color: var(--color-primary);">üéØ Phase 1 Goals</h3>
            <div class="grid">
                <div class="card">
                    <h3>üìö Knowledge</h3>
                    <p>Understand why openings matter and recognize common tactical patterns</p>
                </div>
                <div class="card">
                    <h3>üíª Coding</h3>
                    <p>Build a functional chess system in Python with OOP principles</p>
                </div>
                <div class="card">
                    <h3>üéÆ Practice</h3>
                    <p>Practice against your code to reinforce opening principles</p>
                </div>
                <div class="card">
                    <h3>üìà Rating</h3>
                    <p>Improve from 1200 to 1350+ by mastering fundamentals</p>
                </div>
            </div>
        </div>

        <!-- LESSONS TAB -->
        <div id="lessons" class="tab-content">
            <h2>Opening Theory Lessons</h2>

            <div class="lesson-item">
                <h4>Lesson 1: The Center is King</h4>
                <p><strong>Why it matters for 1200 players:</strong> Most games are decided in the middle game, not opening. Controlling the center gives you more options.</p>
                
                <h5>The Four Center Squares:</h5>
                <div class="notation">
White controls: e4, d4
Black controls: e5, d5

FEN Position: rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1
After 1.e4: ‚ôô on e4 controls d5 and f5
                </div>

                <p><strong>Key Opening Principles (Applied to 1.e4):</strong></p>
                <ul style="margin-left: 20px;">
                    <li>‚úì Control central squares e4, d4, e5, d5</li>
                    <li>‚úì Develop knights before bishops (Nf3 before Be2)</li>
                    <li>‚úì Don't move same piece twice in opening</li>
                    <li>‚úì Castle by move 10-12</li>
                    <li>‚úì Keep king safe above all else</li>
                </ul>
            </div>

            <div class="lesson-item">
                <h4>Lesson 2: Development Over Greed</h4>
                <p><strong>Common Mistake at 1200:</strong> Playing for immediate material gain instead of developing pieces.</p>
                
                <h5>Italian Game Example:</h5>
                <div class="notation">
1. e4 e5
2. Nf3 Nc6
3. Bc4 Bc5
4. c3 (Supporting d4 push)

This is better than 4. Nxe5?? because:
- You develop (c3 pawn supports center)
- Keep pieces coordinated
- Threaten d4 advance
- Black cannot take safely: 4...Nxe5? 5. Qh5! wins
                </div>
            </div>

            <div class="lesson-item">
                <h4>Lesson 3: Castling - Your King's Best Friend</h4>
                <p><strong>Why 1200 players struggle:</strong> Not castling early leaves king in center where it gets attacked.</p>
                
                <p><strong>When to Castle:</strong></p>
                <ul style="margin-left: 20px;">
                    <li>‚úì Move 8-12: Safe window for kingside castling</li>
                    <li>‚úì After moving king's knight (Nf3)</li>
                    <li>‚úì After moving at least one bishop</li>
                    <li>‚úó Don't delay if no specific reason</li>
                    <li>‚úó Don't castle into attack</li>
                </ul>
            </div>

            <div class="lesson-item">
                <h4>Lesson 4: Piece Values (Your Decision-Making Framework)</h4>
                <div class="notation">
Pawn (‚ôü) = 1 point
Knight (‚ôû) = 3 points
Bishop (‚ôù) = 3 points
Rook (‚ôú) = 5 points
Queen (‚ôõ) = 9 points
King = ‚àû (protecting it is everything)

Example Trade:
Your Knight (3) for Black's Rook (5) = You gain 2 points (+ value)
Your Rook (5) for Black's 2 Knights (3+3) = You lose 1 point (- value)
                </div>
            </div>

            <h3 style="margin-top: 30px;">üéì Interactive Position Evaluator</h3>
            <div style="background: var(--color-surface); padding: 20px; border-radius: 10px;">
                <p><strong>Enter piece notation to evaluate position:</strong></p>
                <div class="form-row">
                    <div class="input-group">
                        <label>White Pieces (e.g., "‚ôüa2,‚ôûb1,‚ôúa1")</label>
                        <input type="text" id="whitePieces" placeholder="‚ôüa2,‚ôüb2,‚ôûb1,‚ôña1,‚ôïd1" value="‚ôüe4,‚ôüd4,‚ôòf3,‚ôóc4,‚ôïd1,‚ôîe1">
                    </div>
                    <div class="input-group">
                        <label>Black Pieces</label>
                        <input type="text" id="blackPieces" placeholder="‚ôüa7,‚ôûb8,‚ôña8" value="‚ôüe5,‚ôüd5,‚ôòf6,‚ôóf5,‚ôïd8,‚ôîe8">
                    </div>
                </div>
                <button class="btn btn-secondary" onclick="evaluatePosition()">üìä Evaluate Position</button>
                <div id="evaluationResult" class="output" style="margin-top: 15px;"></div>
            </div>
        </div>

        <!-- PRACTICE TAB -->
        <div id="practice" class="tab-content">
            <h2>Opening Practice Scenarios</h2>
            <p>Practice the principles you've learned. Choose an opening and play against strategic challenges.</p>

            <div class="input-group">
                <label>Choose an Opening to Practice:</label>
                <select id="openingSelect" onchange="loadOpening()">
                    <option value="italian">Italian Game (1.e4 e5 2.Nf3 Nc6 3.Bc4)</option>
                    <option value="spanish">Ruy Lopez / Spanish Opening (1.e4 e5 2.Nf3 Nc6 3.Bb5)</option>
                    <option value="french">French Defense (1.e4 e6)</option>
                    <option value="scandinav">Scandinavian Defense (1.e4 d5)</option>
                    <option value="slav">Slav Defense (1.d4 d5 2.c4 c6)</option>
                </select>
            </div>

            <div id="openingInfo" style="margin-top: 20px;">
                <div class="card">
                    <h4 id="openingName">Opening Name</h4>
                    <p id="openingDesc">Loading...</p>
                    <div>
                        <strong>Key Ideas:</strong>
                        <ul id="openingIdeas" style="margin-left: 20px;"></ul>
                    </div>
                    <div>
                        <strong>Common Moves:</strong>
                        <div id="openingMoves" class="notation" style="margin-top: 10px;"></div>
                    </div>
                    <button class="btn" onclick="simulateOpening()" style="margin-top: 15px;">‚ñ∂Ô∏è Simulate Opening</button>
                </div>
            </div>

            <h3 style="margin-top: 30px;">Practice Challenges</h3>
            <div class="grid">
                <div class="card">
                    <h4>Challenge 1: Center Control</h4>
                    <p><strong>Position:</strong> You have e4 pawn, opponent plays e5</p>
                    <p><strong>Your Task:</strong> Develop 3 pieces in first 10 moves while maintaining center presence</p>
                    <button class="btn btn-secondary" onclick="startChallenge('center')">Start Challenge</button>
                </div>

                <div class="card">
                    <h4>Challenge 2: Tactical Alertness</h4>
                    <p><strong>Position:</strong> After 5 moves of Italian Game</p>
                    <p><strong>Your Task:</strong> Identify the key tactical threat and best continuation</p>
                    <button class="btn btn-secondary" onclick="startChallenge('tactics')">Start Challenge</button>
                </div>

                <div class="card">
                    <h4>Challenge 3: Development Race</h4>
                    <p><strong>Position:</strong> Move 6 of a standard opening</p>
                    <p><strong>Your Task:</strong> Complete development (all minor pieces out, rooks connected)</p>
                    <button class="btn btn-secondary" onclick="startChallenge('develop')">Start Challenge</button>
                </div>

                <div class="card">
                    <h4>Challenge 4: King Safety</h4>
                    <p><strong>Position:</strong> After 8 moves, king uncastled</p>
                    <p><strong>Your Task:</strong> Find the safe square to castle and defend critical squares</p>
                    <button class="btn btn-secondary" onclick="startChallenge('safety')">Start Challenge</button>
                </div>
            </div>

            <div id="challengeResult" style="margin-top: 20px;"></div>
        </div>

        <!-- CODE TAB -->
        <div id="code" class="tab-content">
            <h2>üíª Build Your Chess Engine - Phase 1 Code</h2>
            <p style="font-size: 1.05em; margin-bottom: 20px;">
                <strong>This is the Python code you'll commit to GitHub.</strong> Phase 1 focuses on fundamentals and opening analysis.
            </p>

            <h3>üîß Project Setup Instructions</h3>
            <div class="lesson-item">
                <h4>Step 1: Create Project Directory</h4>
                <div class="code-block">mkdir chess-mastery-hub
cd chess-mastery-hub
python -m venv venv
# On Windows:
venv\Scripts\activate
# On macOS/Linux:
source venv/bin/activate
</div>
            </div>

            <div class="lesson-item">
                <h4>Step 2: Create Core Files</h4>
                <div class="code-block">touch chess_engine.py
touch opening_book.py
touch position_evaluator.py
touch game_simulator.py
touch README.md
touch requirements.txt
</div>
            </div>

            <h3 style="margin-top: 30px;">üìÅ Phase 1 Code Files</h3>

            <div class="lesson-item">
                <h4>1. chess_engine.py - Core Board &amp; Piece System</h4>
                <div class="code-block">"""
Chess Engine Core Module
Implements the chess board, pieces, and basic move validation.
Part of Chess Mastery Hub - Phase 1: Fundamentals
"""

from enum import Enum
from typing import List, Tuple, Optional
import json

class Color(Enum):
    WHITE = "white"
    BLACK = "black"

class PieceType(Enum):
    PAWN = "pawn"
    KNIGHT = "knight"
    BISHOP = "bishop"
    ROOK = "rook"
    QUEEN = "queen"
    KING = "king"

class Piece:
    """Base class for all chess pieces"""
    PIECE_VALUES = {
        PieceType.PAWN: 1,
        PieceType.KNIGHT: 3,
        PieceType.BISHOP: 3,
        PieceType.ROOK: 5,
        PieceType.QUEEN: 9,
        PieceType.KING: 0
    }
    
    def __init__(self, piece_type: PieceType, color: Color, position: str):
        self.type = piece_type
        self.color = color
        self.position = position  # e.g., "e4"
        self.value = self.PIECE_VALUES[piece_type]
    
    def get_symbol(self) -> str:
        """Returns Unicode chess piece symbol"""
        symbols = {
            (PieceType.PAWN, Color.WHITE): "‚ôô",
            (PieceType.PAWN, Color.BLACK): "‚ôü",
            (PieceType.KNIGHT, Color.WHITE): "‚ôò",
            (PieceType.KNIGHT, Color.BLACK): "‚ôû",
            (PieceType.BISHOP, Color.WHITE): "‚ôó",
            (PieceType.BISHOP, Color.BLACK): "‚ôù",
            (PieceType.ROOK, Color.WHITE): "‚ôñ",
            (PieceType.ROOK, Color.BLACK): "‚ôú",
            (PieceType.QUEEN, Color.WHITE): "‚ôï",
            (PieceType.QUEEN, Color.BLACK): "‚ôõ",
            (PieceType.KING, Color.WHITE): "‚ôî",
            (PieceType.KING, Color.BLACK): "‚ôö",
        }
        return symbols.get((self.type, self.color), "?")

class ChessBoard:
    """Main chess board representation"""
    FILES = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h']
    RANKS = ['1', '2', '3', '4', '5', '6', '7', '8']
    
    def __init__(self):
        self.pieces: List[Piece] = []
        self.move_history: List[str] = []
        self.white_king_moved = False
        self.black_king_moved = False
        self.setup_starting_position()
    
    def setup_starting_position(self):
        """Initialize board with starting position"""
        self.pieces = []
        
        # White pieces
        for file in self.FILES:
            self.pieces.append(Piece(PieceType.PAWN, Color.WHITE, f"{file}2"))
        
        self.pieces.append(Piece(PieceType.ROOK, Color.WHITE, "a1"))
        self.pieces.append(Piece(PieceType.KNIGHT, Color.WHITE, "b1"))
        self.pieces.append(Piece(PieceType.BISHOP, Color.WHITE, "c1"))
        self.pieces.append(Piece(PieceType.QUEEN, Color.WHITE, "d1"))
        self.pieces.append(Piece(PieceType.KING, Color.WHITE, "e1"))
        self.pieces.append(Piece(PieceType.BISHOP, Color.WHITE, "f1"))
        self.pieces.append(Piece(PieceType.KNIGHT, Color.WHITE, "g1"))
        self.pieces.append(Piece(PieceType.ROOK, Color.WHITE, "h1"))
        
        # Black pieces
        for file in self.FILES:
            self.pieces.append(Piece(PieceType.PAWN, Color.BLACK, f"{file}7"))
        
        self.pieces.append(Piece(PieceType.ROOK, Color.BLACK, "a8"))
        self.pieces.append(Piece(PieceType.KNIGHT, Color.BLACK, "b8"))
        self.pieces.append(Piece(PieceType.BISHOP, Color.BLACK, "c8"))
        self.pieces.append(Piece(PieceType.QUEEN, Color.BLACK, "d8"))
        self.pieces.append(Piece(PieceType.KING, Color.BLACK, "e8"))
        self.pieces.append(Piece(PieceType.BISHOP, Color.BLACK, "f8"))
        self.pieces.append(Piece(PieceType.KNIGHT, Color.BLACK, "g8"))
        self.pieces.append(Piece(PieceType.ROOK, Color.BLACK, "h8"))
    
    def get_piece_at(self, position: str) -> Optional[Piece]:
        """Get piece at specified position"""
        for piece in self.pieces:
            if piece.position == position:
                return piece
        return None
    
    def display(self):
        """Print ASCII board representation"""
        print("\n  a b c d e f g h")
        print("  +-+-+-+-+-+-+-+")
        for rank in reversed(self.RANKS):
            row = f"{rank}|"
            for file in self.FILES:
                piece = self.get_piece_at(f"{file}{rank}")
                if piece:
                    row += piece.get_symbol() + "|"
                else:
                    row += " |"
            print(row)
            print("  +-+-+-+-+-+-+-+")
    
    def calculate_material_balance(self) -> dict:
        """Calculate material balance (white perspective)"""
        white_material = sum(
            p.value for p in self.pieces if p.color == Color.WHITE
        )
        black_material = sum(
            p.value for p in self.pieces if p.color == Color.BLACK
        )
        
        return {
            "white": white_material,
            "black": black_material,
            "advantage": white_material - black_material,
            "advantage_side": "white" if white_material > black_material else "black"
        }

# Example usage
if __name__ == "__main__":
    board = ChessBoard()
    board.display()
    print("\nMaterial Balance:", board.calculate_material_balance())
</div>
            </div>

            <div class="lesson-item">
                <h4>2. opening_book.py - Opening Database</h4>
                <div class="code-block">"""
Opening Book Module
Stores and retrieves chess openings by move sequence.
Built with dictionaries for fast lookup.
"""

class OpeningBook:
    """Database of chess openings"""
    
    OPENINGS = {
        "Italian Game": {
            "moves": "1.e4 e5 2.Nf3 Nc6 3.Bc4",
            "fen": "r1bqkbnr/pppp1ppp/2n5/4p3/2B1P3/5N2/PPPP1PPP/RNBQK2R w KQkq - 0 4",
            "key_ideas": [
                "Control central squares d4/d5",
                "Attack f7 weakness with Bishop on c4",
                "Develop pieces rapidly",
                "Quick castling for safety"
            ],
            "for_rating": "1000-1400"
        },
        "Ruy Lopez": {
            "moves": "1.e4 e5 2.Nf3 Nc6 3.Bb5",
            "fen": "r1bqkbnr/pppp1ppp/2n5/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R b KQkq - 0 3",
            "key_ideas": [
                "Pin the knight (most popular opening)",
                "White can play d4 gaining center advantage",
                "Exchange on c6 weakens Black's pawn structure",
                "Flexible middlegame plans"
            ],
            "for_rating": "1200-2000"
        },
        "French Defense": {
            "moves": "1.e4 e6",
            "fen": "rnbqkbnr/pppp1ppp/4p3/8/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 2",
            "key_ideas": [
                "Solid pawn structure",
                "Black accepts space disadvantage",
                "Black gets long-term piece activity",
                "Requires patience and positional understanding"
            ],
            "for_rating": "1200-1600"
        },
        "Scandinavian Defense": {
            "moves": "1.e4 d5",
            "fen": "rnbqkbnr/ppp1pppp/8/3p4/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 2",
            "key_ideas": [
                "Immediate center confrontation",
                "Black accepts isolated queen pawn",
                "Quick piece development",
                "Tactical play"
            ],
            "for_rating": "1100-1500"
        }
    }
    
    @classmethod
    def get_opening(cls, name: str) -> dict:
        """Retrieve opening by name"""
        return cls.OPENINGS.get(name, {})
    
    @classmethod
    def get_all_openings(cls) -> dict:
        """Get all openings in book"""
        return cls.OPENINGS
    
    @classmethod
    def get_openings_by_first_move(cls, move: str) -> list:
        """Get all openings starting with given move"""
        result = []
        for name, data in cls.OPENINGS.items():
            if data["moves"].startswith(move):
                result.append((name, data))
        return result
    
    @classmethod
    def get_key_principles(cls) -> dict:
        """Universal opening principles for 1200+ players"""
        return {
            "center": "Control central squares (e4, d4, e5, d5)",
            "development": "Develop pieces before launching attacks",
            "king_safety": "Castle by move 10-12",
            "avoid_greed": "Don't move same piece twice in opening",
            "piece_coordination": "Pieces should support each other",
            "pawn_breaks": "Know d4 and c4 pawn breaks"
        }

if __name__ == "__main__":
    book = OpeningBook()
    
    print("Available Openings:")
    for name in book.get_all_openings():
        print(f"  - {name}")
    
    print("\n\nItalian Game Details:")
    italian = book.get_opening("Italian Game")
    print(f"Moves: {italian['moves']}")
    print(f"Key Ideas: {', '.join(italian['key_ideas'])}")
</div>
            </div>

            <div class="lesson-item">
                <h4>3. position_evaluator.py - Evaluation System</h4>
                <div class="code-block">"""
Position Evaluator Module
Evaluates chess positions beyond material count.
Scores positions in centipawns (1 pawn = 100 cp).
"""

class PositionEvaluator:
    """Evaluates chess positions"""
    
    # Piece square tables (simplified)
    PAWN_VALUES = {
        2: 10, 3: 30, 4: 40, 5: 40, 6: 30, 7: 10
    }
    
    @staticmethod
    def evaluate_material(white_pieces: dict, black_pieces: dict) -> int:
        """Calculate material advantage in centipawns"""
        piece_values = {
            "pawn": 100,
            "knight": 300,
            "bishop": 300,
            "rook": 500,
            "queen": 900
        }
        
        white_total = sum(
            piece_values.get(p_type, 0) * count 
            for p_type, count in white_pieces.items()
        )
        black_total = sum(
            piece_values.get(p_type, 0) * count 
            for p_type, count in black_pieces.items()
        )
        
        return white_total - black_total
    
    @staticmethod
    def evaluate_position(
        material_score: int,
        piece_activity: int = 0,
        pawn_structure: int = 0,
        king_safety: int = 0
    ) -> dict:
        """
        Comprehensive position evaluation
        
        Returns evaluation in centipawns with breakdown
        """
        total = material_score + piece_activity + pawn_structure + king_safety
        
        # Determine evaluation perspective
        if abs(total) < 50:
            evaluation = "Roughly equal"
        elif total > 0:
            advantage = "White"
            if total < 100:
                strength = "slightly better"
            elif total < 300:
                strength = "clearly better"
            else:
                strength = "winning"
        else:
            advantage = "Black"
            if total > -100:
                strength = "slightly better"
            elif total > -300:
                strength = "clearly better"
            else:
                strength = "winning"
        
        return {
            "total_score": total,
            "evaluation": evaluation if abs(total) < 50 else f"{advantage} {strength}",
            "centipawns": total,
            "breakdown": {
                "material": material_score,
                "piece_activity": piece_activity,
                "pawn_structure": pawn_structure,
                "king_safety": king_safety
            }
        }

if __name__ == "__main__":
    # Example: After 1.e4 e5 2.Nf3
    white = {"pawn": 8, "knight": 2, "bishop": 2, "rook": 2, "queen": 1}
    black = {"pawn": 8, "knight": 2, "bishop": 2, "rook": 2, "queen": 1}
    
    material = PositionEvaluator.evaluate_material(white, black)
    evaluation = PositionEvaluator.evaluate_position(material)
    
    print("Position Evaluation:")
    print(f"  Evaluation: {evaluation['evaluation']}")
    print(f"  Score: {evaluation['centipawns']} cp")
</div>
            </div>

            <div class="lesson-item">
                <h4>4. requirements.txt</h4>
                <div class="code-block"># Chess Mastery Hub - Phase 1 Dependencies
# Core requirements for opening analysis and position evaluation

# Game logic (optional, for Phase 2)
# python-chess==1.9.4

# Data handling
# pandas==2.0.0

# Visualization (for Phase 3)
# matplotlib==3.7.0
# plotly==5.10.0

# Development
pytest==7.3.1
black==23.1.0
pylint==2.17.0

# Documentation
# sphinx==6.1.3
</div>
            </div>

            <div class="lesson-item">
                <h4>5. README.md Template for GitHub</h4>
                <div class="code-block"># Chess Mastery Hub - A Chess Learning Engine

**Learn Chess and Python Programming in One Project**

Building a complete chess analysis system from scratch while improving from 1200 to 2000+ Elo.

## Project Overview

Chess Mastery Hub is a multi-phase project combining:
- üéì Structured chess learning (openings, tactics, endgames)
- üíª Professional Python development (OOP, algorithms, design patterns)
- üìä Position analysis and evaluation
- üöÄ Portfolio-ready GitHub project

**Current Phase:** Phase 1 - Fundamentals & Openings

## Quick Start

git clone [your-repo-url]
cd chess-mastery-hub
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
python chess_engine.py

## Phase 1: Fundamentals & Openings

### Learning Objectives
- [ ] Understand algebraic notation and board representation
- [ ] Master opening principles (control, development, safety)
- [ ] Learn 4 fundamental openings
- [ ] Build position evaluation system
- [ ] Implement basic move validation

### Code Structure
chess-mastery-hub/
‚îú‚îÄ‚îÄ chess_engine.py          # Core board and piece system
‚îú‚îÄ‚îÄ opening_book.py          # Opening database
‚îú‚îÄ‚îÄ position_evaluator.py    # Position analysis
‚îú‚îÄ‚îÄ game_simulator.py        # Game simulation (Phase 1.4)
‚îú‚îÄ‚îÄ tests/                   # Unit tests
‚îú‚îÄ‚îÄ requirements.txt         # Dependencies
‚îî‚îÄ‚îÄ README.md               # This file

### Files Implemented
1. **chess_engine.py** - ChessBoard and Piece classes (OOP foundation)
2. **opening_book.py** - OpeningBook database with move sequences
3. **position_evaluator.py** - Material and position scoring
4. **game_simulator.py** - Basic game flow (coming soon)

## Learning Path

### Week 1-2: Piece Movement & Board
- Learn algebraic notation (a1-h8)
- Implement Piece class hierarchy
- Create ChessBoard representation
- Practice: Print board positions

### Week 3-4: Opening Principles
- Study control the center
- Learn development theory
- Understand castling importance
- Practice: Simulate opening moves

### Week 5-6: Tactical Patterns
- Identify forks, pins, skewers
- Learn piece coordination
- Study common blunders to avoid
- Practice: Position evaluation

### Week 7+: Advanced Concepts
- Pawn structure analysis
- Weak square identification
- Long-term strategic planning
- Practice: Complex positions

## Future Phases

**Phase 2: Tactics & Middlegame** (Move validation, best move finder)
**Phase 3: Endgame Mastery** (Tablebase integration, endgame theory)
**Phase 4: Advanced Strategy** (Neural network evaluation, opening preparation)

## Skills Demonstrated

### Python Programming
- ‚úì Object-Oriented Programming (classes, inheritance)
- ‚úì Data Structures (lists, dictionaries, enums)
- ‚úì Type Hints and Professional Code Standards
- ‚úì Module organization and imports
- ‚úì Documentation and docstrings
- ‚úì Git version control

### Chess Knowledge
- ‚úì Opening Theory
- ‚úì Position Evaluation
- ‚úì Tactical Patterns
- ‚úì Endgame Principles

## Contributing & Next Steps

This is my learning portfolio project. Feedback welcome on:
- Code structure and design patterns
- Chess theory accuracy
- Python best practices

## Resources Used
- Lichess.org (opening analysis)
- Chess.com (tactics training)
- "The Amateur's Mind" by Jeremy Silman
- Python chess library documentation
- UCI engine specifications

## License

MIT License - Free for educational use

---

**Current Elo:** 1200  
**Target Elo:** 1500+ by end of Phase 2  
**Last Updated:** [Your Date]
</div>
            </div>
        </div>

        <!-- ANALYSIS TAB -->
        <div id="analysis" class="tab-content">
            <h2>üìä Progress Analysis &amp; Insights</h2>
            
            <div class="grid">
                <div class="card">
                    <h3>Elo Improvement Curve</h3>
                    <p>üìà Projected improvement with consistent practice:</p>
                    <div style="margin: 20px 0;">
                        <p><strong>Starting Elo:</strong> 1200</p>
                        <p><strong>After Phase 1 (4 weeks):</strong> 1300-1350 (+100-150)</p>
                        <p><strong>After Phase 2 (8 weeks):</strong> 1450-1550 (+250-350)</p>
                        <p><strong>After Phase 3 (12 weeks):</strong> 1600-1700 (+400-500)</p>
                    </div>
                    <p style="color: var(--color-text-light); font-size: 0.9em;">*Based on 30-60 min/day consistent study + practice games</p>
                </div>

                <div class="card">
                    <h3>Common Mistakes at 1200</h3>
                    <p>Focus on fixing these to jump rating:</p>
                    <ul style="margin-left: 20px;">
                        <li>‚ùå Not castling early (leads to checkmate)</li>
                        <li>‚ùå Hanging pieces (not seeing basic tactics)</li>
                        <li>‚ùå Poor pawn structure (unnecessary weaknesses)</li>
                        <li>‚ùå Not counting material before trades</li>
                        <li>‚ùå Playing for tricks vs. solid chess</li>
                    </ul>
                </div>

                <div class="card">
                    <h3>Time Investment by Phase</h3>
                    <p><strong>Recommended Schedule:</strong></p>
                    <ul style="margin-left: 20px;">
                        <li>üìö Study: 20 minutes/day</li>
                        <li>üéÆ Practice: 20-30 minutes/day</li>
                        <li>üî¨ Analysis: 10 minutes/day</li>
                    </ul>
                    <p style="margin-top: 15px;"><strong>Total: 50-60 min/day</strong></p>
                    <p style="color: var(--color-text-light); font-size: 0.9em;">Adjust based on your schedule</p>
                </div>

                <div class="card">
                    <h3>Success Metrics</h3>
                    <p><strong>Phase 1 Success = </strong></p>
                    <ul style="margin-left: 20px;">
                        <li>‚úì Win openings with sound principles</li>
                        <li>‚úì Identify 4+ opening systems</li>
                        <li>‚úì Complete project on GitHub</li>
                        <li>‚úì 150+ Elo improvement</li>
                    </ul>
                </div>
            </div>

            <h3 style="margin-top: 30px;">Learning Comparison: Books vs. Code</h3>
            <div class="card">
                <p><strong>Why "Code-Based Learning" is Better for You:</strong></p>
                <table style="width: 100%; margin-top: 15px; border-collapse: collapse;">
                    <tr style="border-bottom: 2px solid #ddd;">
                        <td style="padding: 10px;"><strong>Aspect</strong></td>
                        <td style="padding: 10px;"><strong>Books</strong></td>
                        <td style="padding: 10px;"><strong>This Project</strong></td>
                    </tr>
                    <tr style="border-bottom: 1px solid #eee;">
                        <td style="padding: 10px;">Time Investment</td>
                        <td style="padding: 10px;">50+ hours/book</td>
                        <td style="padding: 10px;">30-40 hours total</td>
                    </tr>
                    <tr style="border-bottom: 1px solid #eee;">
                        <td style="padding: 10px;">Practical Application</td>
                        <td style="padding: 10px;">Requires separate practice</td>
                        <td style="padding: 10px;">Built-in simulations</td>
                    </tr>
                    <tr style="border-bottom: 1px solid #eee;">
                        <td style="padding: 10px;">Portfolio Value</td>
                        <td style="padding: 10px;">None (reading only)</td>
                        <td style="padding: 10px;">GitHub project + code skills</td>
                    </tr>
                    <tr style="border-bottom: 1px solid #eee;">
                        <td style="padding: 10px;">Engagement</td>
                        <td style="padding: 10px;">Passive reading</td>
                        <td style="padding: 10px;">Active building + learning</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;">Retention</td>
                        <td style="padding: 10px;">20-30% without review</td>
                        <td style="padding: 10px;">70%+ (hands-on learning)</td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- GITHUB TAB -->
        <div id="github" class="tab-content">
            <h2>üöÄ GitHub Portfolio Setup</h2>
            <p style="font-size: 1.05em; margin-bottom: 20px;">
                Create a professional GitHub repository that showcases your coding skills to employers.
            </p>

            <h3>Step 1: Initialize Git Repository</h3>
            <div class="lesson-item">
                <div class="code-block">cd chess-mastery-hub
git init
git config user.name "Your Name"
git config user.email "your.email@example.com"
</div>
            </div>

            <h3>Step 2: Create GitHub Repository</h3>
            <div class="lesson-item">
                <p><strong>At GitHub.com:</strong></p>
                <ol style="margin-left: 20px;">
                    <li>Click "New" ‚Üí Create new repository</li>
                    <li>Name: <code>chess-mastery-hub</code></li>
                    <li>Description: "Learn chess and Python together. Multi-phase project: fundamentals ‚Üí tactics ‚Üí endgames ‚Üí strategy."</li>
                    <li>Choose: Public (for portfolio)</li>
                    <li>Add README.md (from code section)</li>
                    <li>Add .gitignore for Python</li>
                    <li>License: MIT</li>
                </ol>
            </div>

            <h3>Step 3: First Commit</h3>
            <div class="lesson-item">
                <div class="code-block">git add .
git commit -m "Phase 1: Initial project structure with opening book and position evaluator"
git branch -M main
git remote add origin https://github.com/YOUR_USERNAME/chess-mastery-hub.git
git push -u origin main
</div>
            </div>

            <h3>Step 4: Create .gitignore</h3>
            <div class="lesson-item">
                <h4>File: .gitignore</h4>
                <div class="code-block"># Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
env/
venv/
ENV/
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
*.egg-info/
.installed.cfg
*.egg

# IDE
.vscode/
.idea/
*.swp
*.swo
*~
.DS_Store

# Testing
.pytest_cache/
.coverage
htmlcov/

# Project specific
*.pgn
*.log
</div>
            </div>

            <h3 style="margin-top: 30px;">Portfolio Tips</h3>
            <div class="grid">
                <div class="card">
                    <h4>üìù Commit Messages</h4>
                    <p>Use clear, descriptive messages:</p>
                    <ul style="margin-left: 20px; font-size: 0.95em;">
                        <li>‚úì "Add OpeningBook class with Italian Game"</li>
                        <li>‚úì "Implement position evaluation algorithm"</li>
                        <li>‚úó "fix stuff"</li>
                        <li>‚úó "update"</li>
                    </ul>
                </div>

                <div class="card">
                    <h4>üìå Branch Strategy</h4>
                    <p>Use branches for each phase:</p>
                    <ul style="margin-left: 20px; font-size: 0.95em;">
                        <li>main (production)</li>
                        <li>phase-1 (current work)</li>
                        <li>phase-2 (next phase)</li>
                        <li>feature/opening-book</li>
                    </ul>
                </div>

                <div class="card">
                    <h4>üìÑ Documentation</h4>
                    <p>Keep README updated with:</p>
                    <ul style="margin-left: 20px; font-size: 0.95em;">
                        <li>Project overview</li>
                        <li>Quick start guide</li>
                        <li>Architecture diagram</li>
                        <li>Skills demonstrated</li>
                    </ul>
                </div>

                <div class="card">
                    <h4>üéØ Career Angle</h4>
                    <p>Highlight your project:</p>
                    <ul style="margin-left: 20px; font-size: 0.95em;">
                        <li>Link in GitHub bio</li>
                        <li>Mention in resume</li>
                        <li>Portfolio website</li>
                        <li>LinkedIn projects</li>
                    </ul>
                </div>
            </div>

            <h3 style="margin-top: 30px;">Example GitHub Profile Description</h3>
            <div class="card">
                <p><strong>Bio (160 chars max):</strong></p>
                <div class="notation">Career-transitioning data analyst | Building projects that combine chess strategy with Python engineering | Open to opportunities</div>
                
                <p style="margin-top: 20px;"><strong>Repository Pin 1: chess-mastery-hub</strong></p>
                <div class="notation">üéì Learn chess AND Python together. Multi-phase system: opening theory ‚Üí tactics ‚Üí endgame ‚Üí strategy with full OOP implementation and analysis engine.</div>
            </div>
        </div>
    </div>

    <script>
        const learningTimeInput = document.getElementById('learningTime');
        const projectedEloElement = document.getElementById('projectedElo');

        // Tab switching
        function switchTab(tabName) {
            const tabs = document.querySelectorAll('.tab-content');
            const buttons = document.querySelectorAll('.tab-btn');
            
            tabs.forEach(tab => tab.classList.remove('active'));
            buttons.forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // Update projected elo based on learning time
        learningTimeInput.addEventListener('change', () => {
            const minutes = parseInt(learningTimeInput.value);
            let projectedElo = 1200;
            
            if (minutes >= 30) projectedElo = 1300;
            if (minutes >= 45) projectedElo = 1350;
            if (minutes >= 60) projectedElo = 1400;
            
            projectedEloElement.textContent = projectedElo;
        });

        // Position evaluation
        function evaluatePosition() {
            const whitePieces = document.getElementById('whitePieces').value;
            const blackPieces = document.getElementById('blackPieces').value;
            
            const pieceValues = {
                '‚ôü': 1, '‚ôô': 1,
                '‚ôû': 3, '‚ôò': 3,
                '‚ôù': 3, '‚ôó': 3,
                '‚ôú': 5, '‚ôñ': 5,
                '‚ôõ': 9, '‚ôï': 9
            };
            
            let whiteTotal = 0, blackTotal = 0;
            
            for (const char of whitePieces + blackPieces) {
                if (char in pieceValues) {
                    if (/[‚ôô‚ôû‚ôù‚ôú‚ôõ‚ôò‚ôó‚ôñ‚ôï]/.test(char)) {
                        whiteTotal += pieceValues[char];
                    } else if (/[‚ôü‚ôû‚ôù‚ôú‚ôõ]/.test(char)) {
                        blackTotal += pieceValues[char];
                    }
                }
            }
            
            const result = document.getElementById('evaluationResult');
            const advantage = whiteTotal - blackTotal;
            let evaluation = 'Roughly equal';
            
            if (advantage > 100) evaluation = 'White has significant advantage';
            else if (advantage > 50) evaluation = 'White is better';
            else if (advantage > 20) evaluation = 'White is slightly better';
            else if (advantage < -100) evaluation = 'Black has significant advantage';
            else if (advantage < -50) evaluation = 'Black is better';
            else if (advantage < -20) evaluation = 'Black is slightly better';
            
            result.textContent = `White Material: ${whiteTotal} points\nBlack Material: ${blackTotal} points\nAdvantage: ${advantage > 0 ? '+' : ''}${advantage} (centipawns: ${advantage * 100})\n\nEvaluation: ${evaluation}\n\nInterpretation: ${advantage > 300 ? 'Winning position' : advantage > 100 ? 'Much better' : advantage > 0 ? 'Slightly better' : advantage < -300 ? 'Losing position' : advantage < -100 ? 'Much worse' : 'Roughly equal'}`;
        }

        // Loading openings
        const openingDatabase = {
            "italian": {
                "name": "Italian Game",
                "desc": "White's most popular opening against 1...e5. Emphasizes rapid development and attacks the weak f7 square.",
                "ideas": [
                    "Control center with e4 pawn",
                    "Develop knight to f3",
                    "Place bishop on c4 (attacking f7)",
                    "Quick castling for safety",
                    "Plans d4 advance"
                ],
                "moves": "1.e4 e5 2.Nf3 Nc6 3.Bc4 Bc5 4.c3 Nf6 5.d4"
            },
            "spanish": {
                "name": "Ruy Lopez (Spanish Opening)",
                "desc": "The most played opening at all levels. Pins the knight and gives White long-term advantage.",
                "ideas": [
                    "1.e4 e5 2.Nf3 Nc6 - Black develops",
                    "3.Bb5 - Pin the knight (main idea)",
                    "Flexible middlegame plans",
                    "Exchange on c6 weakens pawn structure",
                    "White gets 60%+ scores"
                ],
                "moves": "1.e4 e5 2.Nf3 Nc6 3.Bb5 a6 4.Ba4 Nf6 5.0-0 Be7 6.Re1"
            },
            "french": {
                "name": "French Defense",
                "desc": "Solid defense where Black accepts space disadvantage for solid pawn structure and counter-attacking chances.",
                "ideas": [
                    "1.e4 e6 - Solid pawn structure",
                    "Black will play d5 soon",
                    "White plays Nf3 and d4",
                    "Requires patience and positional chess",
                    "Leads to closed positions"
                ],
                "moves": "1.e4 e6 2.d4 d5 3.Nc3 Nf6 4.Bg5"
            },
            "scandinav": {
                "name": "Scandinavian Defense",
                "desc": "Immediate center challenge. Black gambits center but gets active piece play.",
                "ideas": [
                    "1.e4 d5 - Immediate fight for center",
                    "2.exd5 Qxd5 - Queen develops actively",
                    "3.Nc3 - Attacks queen, forces it to move",
                    "White has space, Black has piece activity",
                    "Tactical, forcing play"
                ],
                "moves": "1.e4 d5 2.exd5 Qxd5 3.Nc3 Qa5 4.d4 Nf6 5.Nf3"
            },
            "slav": {
                "name": "Slav Defense",
                "desc": "Modern, solid defense to 1.d4. Black maintains piece coordination and counter-attacking potential.",
                "ideas": [
                    "1.d4 d5 2.c4 c6 - Solid structure",
                    "Black keeps piece harmony",
                    "Can challenge center with e5",
                    "Flexible middlegame ideas",
                    "Lead to complex positions"
                ],
                "moves": "1.d4 d5 2.c4 c6 3.Nf3 Nf6 4.Nc3 a6"
            }
        };

        function loadOpening() {
            const select = document.getElementById('openingSelect');
            const selected = select.value;
            const opening = openingDatabase[selected];
            
            document.getElementById('openingName').textContent = opening.name;
            document.getElementById('openingDesc').textContent = opening.desc;
            
            const ideasList = document.getElementById('openingIdeas');
            ideasList.innerHTML = opening.ideas.map(idea => `<li>${idea}</li>`).join('');
            
            document.getElementById('openingMoves').textContent = opening.moves;
        }

        function simulateOpening() {
            alert('Opening simulation coming in Phase 2! For now, try these moves on Lichess.org');
        }

        function startChallenge(type) {
            const challenges = {
                "center": "Challenge: After 5 moves, have you controlled central squares? Check your piece placement!",
                "tactics": "Challenge: Look for the pin on the c6 knight. Can White play d4 next move safely?",
                "develop": "Challenge: How many pieces have you developed (not pawns)? Aim for 4+ by move 10!",
                "safety": "Challenge: Your king is still in center after move 8. Find the best square to castle!"
            };
            
            const result = document.getElementById('challengeResult');
            result.innerHTML = `<div class="card" style="background: linear-gradient(135deg, rgba(39,174,96,0.1) 0%, rgba(243,156,18,0.05) 100%);"><h4>üéØ Challenge Activated</h4><p>${challenges[type]}</p><p style="margin-top: 15px; color: var(--color-text-light);">Tip: Play the moves against a bot on Lichess and verify your understanding!</p></div>`;
        }

        // Initialize
        loadOpening();
    </script>
</body>
</html>
